# О работе "Исследовательский анализ данных. Изучение влияния различных характеристик жилья на его стоимость"

Вначале работы, используя Pandas, я обработал пропуски, переименовал столбцы, удалил дубликаты и добавил новые столбцы в таблицу. Затем я выявил выбросы используя гистограммы и box-plot и удалил их. В конце используя корреляцию Пирсона и графики, а также сводные таблицы я дал подробное описание того, какие характеристики влияют на стоимость жилья.

Использованные технологии: Python, Pandas, matplotlib, seaborn

# Вывод в конце работы, написанный по работе

## 1. Загрузка данных
- Загружены данные (23697 строк, 22 колонки)
- Подключены библиотеки: `pandas`, `numpy`, `seaborn`, `matplotlib`

## 2. Очистка данных
- **Пропуски в автоматических данных:**  
  Столбцы: `airports_nearest`, `cityCenters_nearest`, `parks_around_3000`, `parks_nearest`, `ponds_around_3000`, `ponds_nearest`  
  Причина: особенности автоматизированного сбора данных (недоработка или ошибка выгрузки)  
  Действие: пропуски оставлены

- **Пропуски в столбце `days_exposition`:**  
  Действие: пропуски оставлены (большое количество, очевидной причины нет)

- **Удаление пропусков:**  
  Столбцы: `floors_total`, `locality_name`  
  Причина: их количество незначительно, удаление не повлияет на дальнейшее исследование

- **Замена пропусков:**  
  - `balcony`: пропуски заменены на `0` (отсутствие балкона)  
  - `is_apartment`: пропуски заменены на `False` (не апартаменты)  
  - `ceiling_height`: пропуски заменены на медианное значение  
  - `living_area`: замена пропусков значениями `total_area * 0.6` (60% от общей площади)  
  - `kitchen_area`: замена пропусков значениями `total_area * 0.17` (17% от общей площади)

## 3. Преобразование данных
- **Преобразование типа данных:**
  - `first_day_exposition`: преобразование из строки в формат даты Pandas
  - `days_exposition`: преобразование в целочисленный тип
  - `last_price`, `floors_total`, `balcony`, `total_area`, `living_area`, `kitchen_area`: преобразование в целочисленный тип

## 4. Создание новых признаков
- **Новые столбцы:**
  - `floor_category` — категория этажа
  - `publication_day` — день недели публикации
  - `publication_month` — месяц публикации (учитывается год)
  - `publication_year` — год публикации
  - `size_category` — категория размера квартиры
  - `publication_month_number` — месяц публикации цифрой
  - `cityCenter_nearest_km` — расстояние до центра города в километрах

## 5. Удаление выбросов
Удалены строки с аномальными значениями в столбцах:
- `total_area`
- `last_price`
- `kitchen_area`
- `living_area`
- `ceiling_height`
- `rooms`
- `floors_total`
- `cityCenters_nearest`
- `parks_nearest`

## 6. Анализ влияния характеристик недвижимости на стоимость
- **Основные выводы:**
  - Стоимость квартиры наиболее сильно коррелирует с:  
    `total_area`, `living_area`, `kitchen_area`
  - **Диаграммы размаха показали:**
    - Линейный рост цены с увеличением количества комнат
    - Недвижимость на первом этаже дешевле на 25% по сравнению с промежуточными этажами и на 15% дешевле по сравнению с последним этажом
    - Резкое падение цен в 2015 году, затем снижение на 10% в 2016 году и на 5% в 2017 году по сравнению с предыдущим годом, после чего цены начали расти
  - **График рассеяния:**  
    Подтверждена зависимость: рост площадей (общей, жилой, кухни) ведёт к увеличению стоимости квартиры

## 7. Географический анализ и количество объявлений
- **10 населённых пунктов с наибольшим количеством объявлений:**
  - **Санкт-Петербург:**  
    - Наибольшее количество объявлений (14440)  
    - Самая высокая средняя стоимость квартир (6.8 млн)
  - **Мурино и Шушары:**  
    - Вторые по количеству объявлений
  - **Пушкин и Парглово:**  
    - Средняя стоимость: 6.1 млн и 4.55 млн соответственно
  - **Выборг:**  
    - Самая низкая средняя стоимость квартир (3.3 млн)

## 8. Анализ цен на квартиры в Санкт-Петербурге
- **Влияние расстояния до центра:**  
  - Наивысшие цены наблюдаются в центре города  
  - С увеличением расстояния от центра (с 1 км до 3 км) цены постепенно снижаются

## Вклад Data-scientista
- Заполнены многочисленные пропуски в данных
- Построено более 30 графиков для визуализации и анализа
- Созданы 4 новых столбца с дополнительными характеристиками
- Удалены дубликаты и неявные дубликаты, что улучшает качество данных для обучения моделей

# Проект: Исследовательский анализ данных  
## Исследование объявлений о продаже квартир

Поздравляем! Вы прошли курс в тренажёре. Самое время проверить полученные знания на практике и решить аналитический кейс. Выполнять работу вы будете самостоятельно.  
Как закончите работу над проектом, отправьте его на проверку ревьюеру. В течение суток вы получите комментарии. Их нужно учесть: доработать проект и вернуть ревьюеру обновлённый вариант.  
Скорее всего, вы снова получите комментарии по кейсу. Это нормально — доработка может проходить в несколько этапов.  
Проект считается завершённым, когда засчитаны все исправления.

---

## Описание проекта

В вашем распоряжении находятся данные сервиса **Яндекс Недвижимость** — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах за несколько лет.  
Ваша задача — определить рыночную стоимость объектов недвижимости. Для этого необходимо:
- Провести исследовательский анализ данных;
- Установить параметры, влияющие на цену объектов.

Это позволит построить автоматизированную систему для отслеживания аномалий и выявления мошеннической деятельности.

---

# ТЗ

## Инструкция по выполнению проекта

### Шаг 1. Откройте файл с данными и изучите общую информацию

- **Путь к файлу:** `/datasets/real_estate_data.csv`
- Загрузите данные из CSV-файла в датафрейм с помощью библиотеки `pandas`.
- Изучите общую информацию о полученном датафрейме.
- Постройте гистограмму для всех числовых столбцов таблицы на одном графике.  
  Например, для датафрейма `data` можно использовать команду:
  data.hist(figsize=(15, 20))
  где параметр `figsize` задаёт размер графика.

### Шаг 2. Выполните предобработку данных

- **Пропущенные значения:**
  - Определите, в каких столбцах имеются пропуски.
  - Заполните пропущенные значения там, где это возможно.  
    Например, если продавец не указал число балконов, можно заменить пропуск на `0`, так как, скорее всего, балкон отсутствует. Если логичную замену предложить невозможно, оставьте пропуски, так как они также могут быть важным сигналом.
  - В ячейке с типом Markdown укажите возможные причины появления пропусков в данных.

- **Типы данных:**
  - Проверьте типы данных в каждом столбце.
  - Определите столбцы, в которых необходимо изменить тип данных.
  - Преобразуйте тип данных в выбранных столбцах.
  - В Markdown поясните, почему требуется изменение типа данных (например, для корректного анализа или визуализации).

- **Устранение неявных дубликатов:**
  - Изучите уникальные значения в столбце с названиями населённых пунктов.
  - Устраните неявные дубликаты (например, «поселок Рябово» и «поселок городского типа Рябово», «поселок Тельмана» и «посёлок Тельмана»).
  - Можно либо заменить названия в существующем столбце, либо создать новый столбец с очищенными названиями.

### Шаг 3. Добавьте в таблицу новые столбцы

Создайте следующие столбцы:
- **Цена одного квадратного метра:**  
  Вычисляется как отношение стоимости объекта к его общей площади с округлением до двух знаков после запятой.
- **День недели публикации объявления:**  
  Отображается как число, где 0 — понедельник, 1 — вторник и т.д.
- **Месяц публикации объявления.**
- **Год публикации объявления.**
- **Тип этажа квартиры:**  
  Значения: «первый», «последний», «другой».
- **Расстояние до центра города в километрах:**  
  Переведите значение из метров в километры и округлите до ближайших целых чисел.

### Шаг 4. Проведите исследовательский анализ данных

- **Построение гистограмм:**  
  Изучите следующие параметры объектов, построив для каждого отдельную гистограмму:
  - Общая площадь
  - Жилая площадь
  - Площадь кухни
  - Цена объекта
  - Количество комнат
  - Высота потолков
  - Тип этажа квартиры («первый», «последний», «другой»)
  - Общее количество этажей в доме
  - Расстояние до центра города в метрах
  - Расстояние до ближайшего парка

  *Примечание:* В некоторых параметрах могут встречаться редкие и выбивающиеся значения. Если данные искажены (например, в `ceiling_height` вместо 2.5 м или 3.2 м указаны 25 м или 32 м), скорректируйте их. Если корректное восстановление невозможно, удалите аномальные значения.

- **Анализ времени продажи:**
  - Изучите столбец `days_exposition`, который показывает, сколько дней было размещено объявление.
  - Постройте гистограмму для этого показателя.
  - Посчитайте среднее и медиану.
  - В Markdown опишите, сколько времени обычно занимает продажа квартиры, и какие продажи можно считать быстрыми или необычно долгими.

- **Анализ влияния характеристик на стоимость:**
  - Определите, зависит ли цена от следующих параметров:
    - Общей площади
    - Жилой площади
    - Площади кухни
    - Количества комнат
    - Этаж, на котором расположена квартира (первый, последний, другой)
    - Даты размещения (день недели, месяц, год)
  - Постройте графики зависимости цены от этих параметров.  
    Для подготовки данных можно использовать сводные таблицы.

- **Сводная таблица по населённым пунктам:**
  - Посчитайте среднюю цену одного квадратного метра для 10 населённых пунктов с наибольшим числом объявлений.
  - Постройте сводную таблицу, которая покажет количество объявлений и среднюю цену квадратного метра для этих населённых пунктов.
  - Выделите населённые пункты с самой высокой и самой низкой стоимостью квадратного метра.

- **Анализ влияния расстояния до центра:**
  - Используя столбец `locality_name`, выделите квартиры в Санкт-Петербурге.
  - Вычислите их среднюю стоимость на разном удалении от центра.  
    Учитывайте каждый километр: узнайте среднюю цену квартир в одном километре от центра, в двух и так далее.
  - Постройте график изменения средней цены для каждого километра от центра Петербурга и опишите зависимость цены от расстояния.

### Шаг 5. Напишите общий вывод

- В итоговом выводе опишите полученные результаты исследования.
- Зафиксируйте ключевые выводы, полученные в ходе анализа данных.

---

## Оформление проекта

- Выполните задание в **Jupyter Notebook**.
- Программный код оформляйте в ячейках типа `code`, текстовые пояснения — в ячейках типа `markdown`.
- Применяйте соответствующее форматирование и используйте заголовки для структурирования проекта.

---

## Описание данных

- **airports_nearest** — расстояние до ближайшего аэропорта (м)
- **balcony** — число балконов
- **ceiling_height** — высота потолков (м)
- **cityCenters_nearest** — расстояние до центра города (м)
- **days_exposition** — количество дней размещения объявления (от публикации до снятия)
- **first_day_exposition** — дата публикации объявления
- **floor** — этаж
- **floors_total** — общее число этажей в доме
- **is_apartment** — апартаменты (булев тип)
- **kitchen_area** — площадь кухни (м²)
- **last_price** — цена на момент снятия объявления
- **living_area** — жилая площадь (м²)
- **locality_name** — название населённого пункта
- **open_plan** — свободная планировка (булев тип)
- **parks_around3000** — число парков в радиусе 3 км
- **parks_nearest** — расстояние до ближайшего парка (м)
- **ponds_around3000** — число водоёмов в радиусе 3 км
- **ponds_nearest** — расстояние до ближайшего водоёма (м)
- **rooms** — число комнат
- **studio** — квартира-студия (булев тип)
- **total_area** — общая площадь квартиры (м²)
- **total_images** — количество фотографий в объявлении

---

## Критерии оценки проекта

При проверке вашего проекта ревьюеры обращают внимание на:
- Описание выявленных в данных проблем.
- Применяемые методы обработки пропусков.
- Использование срезов данных.
- Решение поставленных задач с помощью графиков.
- Методы построения графиков.
- Вывод финальных данных в виде сводных таблиц.
- Анализ взаимосвязей в данных и их объяснение.
- Соблюдение структуры проекта и аккуратность кода.
- Качество выводов и комментариев к каждому шагу.

> **Успехов в выполнении проекта!**


# Технический комментарий
- Версия с опциональной критикой без правок (Просто скачал с практикума)
- Diamond